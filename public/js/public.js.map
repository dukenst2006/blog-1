{"version":3,"sources":["public.js","google-analytics.js"],"names":[],"mappings":"AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AC7PA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"public.js","sourcesContent":["// Bellow are two versions of all functions, the commented out is ES6\n// because I am missing something, webpack does not transpile to ES6\n// this file for some reason resulting breakage to gulp-uglify...\n// Either way the comments are stripped in production files.\n\n/**\n * Sets the 'is-active' class to the correct menu element.\n */\n// let setupIsActiveMenuClass = () => {\n//   (() => {\n//     let location = window.location.pathname;\n//     let anchors = document.querySelectorAll('.nav-right > .nav-item');\n//     anchors.forEach((el) => {\n//       if (location === el.getAttribute('href')) {\n//         el.className += ' is-active';\n//       }\n//     });\n//\n//   })();\n// };\n\nvar setupIsActiveMenuClass = function () {\n  var location = window.location.pathname;\n  var anchors = document.querySelectorAll('.nav-right > .nav-item');\n\n  anchors.forEach(function (el) {\n    if (location === el.getAttribute('href')) {\n      el.className += ' is-active';\n    }\n  });\n\n};\n\n/**\n * Sets the mobile menu on/off toggle\n */\n// let setupMenuToggle = () => {\n//   document.querySelector('.nav-toggle').addEventListener('click', () => {\n//     let burger = document.querySelector('.nav-toggle');\n//     let menu = document.querySelector('.nav-menu');\n//     burger.classList.toggle('is-active');\n//     menu.classList.toggle('is-active');\n//   });\n// };\n\nvar setupMenuToggle = function () {\n  document.querySelector('.nav-toggle').addEventListener('click', function () {\n    var burger = document.querySelector('.nav-toggle');\n    var menu = document.querySelector('.nav-menu');\n    burger.classList.toggle('is-active');\n    menu.classList.toggle('is-active');\n  });\n};\n\n// let setupHighlight = () => {\n//   let blocks = document.querySelectorAll('pre code');\n//   blocks.forEach((block) => {\n//     hljs.highlightBlock(block);\n//   })\n// };\n\nvar setupHighlight = function () {\n  var blocks = document.querySelectorAll('pre code');\n  blocks.forEach(function (block) {\n    hljs.highlightBlock(block);\n  });\n};\n\n/**\n * Closes notifications\n */\n// let setupNotifications = () => {\n//   document.querySelectorAll('.notification').forEach((el) => {\n//     el.addEventListener('click', (e) => {\n//       e.target.parentNode.parentNode.removeChild(e.target.parentNode)\n//     });\n//   });\n// };\n\nvar setupNotifications = function () {\n  document.querySelectorAll('.notification').forEach(function (el) {\n    el.addEventListener('click', function (e) {\n      e.target.parentNode.parentNode.removeChild(e.target.parentNode)\n    });\n  });\n};\n\n/**\n * Pop up social shares\n */\n// let socialPopup = (url, width, height) => {\n//   let left = (screen.width / 2) - (width / 2);\n//   let top = (screen.height / 2) - (height / 2)\n//   window.open(\n//     url,\n//     \"\",\n//     \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=\" + width + \",height=\" + height + \",top=\" + top + \",left=\" + left\n//   );\n// };\n\nvar socialPopup = function (url, width, height) {\n  var left = (screen.width / 2) - (width / 2);\n  var top = (screen.height / 2) - (height / 2)\n  window.open(\n    url,\n    \"\",\n    \"menubar=no,toolbar=no,resizable=yes,scrollbars=yes,width=\" + width + \",height=\" + height + \",top=\" + top + \",left=\" + left\n  );\n};\n\n// let setupSocialShare = () => {\n//   let shares = document.querySelectorAll('.social-share');\n//   if (shares.length > 0) {\n//     shares.forEach((share) => {\n//       share.addEventListener('click', (e) => {\n//         e.preventDefault();\n//         let width = share.dataset.width || 500;\n//         let height = share.dataset.height || 300;\n//         if (share.href.includes('https://www.reddit.com/submit/?url=')) {\n//           share.href += '&title=' + document.title;\n//         }\n//         socialPopup(share.href, width, height);\n//       });\n//     });\n//   }\n// };\n\n/**\n *\n */\nvar setupSocialShare = function () {\n  var shares = document.querySelectorAll('.social-share');\n  if (shares.length > 0) {\n    shares.forEach(function (share) {\n      share.addEventListener('click', function (e) {\n        e.preventDefault();\n        var width = share.dataset.width || 500;\n        var height = share.dataset.height || 300;\n        if (share.href.includes('https://www.reddit.com/submit/?url=')) {\n          share.href += '&title=' + document.title;\n          socialPopup(share.href, 850, height);\n        } else {\n          socialPopup(share.href, width, height);\n        }\n      });\n    });\n  }\n};\n\nvar setupEnlargeImage = function () {\n  var magnify = document.querySelector('.magnify');\n\n  if (magnify === null) {\n    return;\n  }\n\n  var images = document.querySelector('.entry');\n  var container = document.querySelector('.container');\n\n  if (images !== null) {\n    images = images.querySelectorAll('img:not(.noseen)');\n\n    images.forEach(function (img) {\n      var clone = img.cloneNode();\n\n      var span = document.createElement('span');\n      var txt = document.createTextNode('click on image to zoom in');\n      span.classList.add('light-notice', 'font-normal');\n      span.appendChild(txt);\n\n      img.parentNode.appendChild(span);\n      // listen for click and zoom\n      img.addEventListener('click', function (e) {\n        // reference to scroll position\n        window.myapp = window.myapp || {};\n        window.myapp.srollPos = document.documentElement.scrollTop || document.body.scrollTop;\n\n        // append childs and classes to zoom in\n        container.classList.add('is-hidden');\n        magnify.appendChild(clone);\n        magnify.appendChild(span);\n        magnify.classList.toggle('is-hidden');\n      });\n\n      // listen for click to zoom out back to normal\n      magnify.addEventListener('click', function (e) {\n        if (magnify.contains(clone)) {\n          container.classList.remove('is-hidden');\n          magnify.classList.toggle('is-hidden');\n          document.documentElement.scrollTop = window.myapp.srollPos;\n          document.body.scrollTop = window.myapp.srollPos;\n          magnify.removeChild(clone);\n        }\n      })\n    });\n  }\n};\n\n\n// listen for ESC key and zoom out zoomed image\nvar zoomOutImage = function () {\n  document.onkeydown = function (e) {\n    if (e.keyCode === 27) {\n      var magnify = document.querySelector('.magnify');\n      var container = document.querySelector('.container');\n      if (!magnify.classList.contains('is-hidden')) {\n        container.classList.remove('is-hidden');\n        magnify.classList.toggle('is-hidden');\n        document.documentElement.scrollTop = window.myapp.srollPos;\n        document.body.scrollTop = window.myapp.srollPos;\n        while (magnify.firstChild) {\n          magnify.removeChild(magnify.firstChild);\n        }\n      }\n    }\n  }\n};\n\n/**\n * Runs when document is ready\n */\n// let callback = () => {\n//\n//   setupIsActiveMenuClass();\n//   setupMenuToggle();\n//   setupNotifications();\n//   setupHighlight();\n//   setupSocialShare();\n// };\n\nvar callback = function () {\n  setupIsActiveMenuClass();\n  setupMenuToggle();\n  setupNotifications();\n  setupHighlight();\n  setupSocialShare();\n  setupEnlargeImage();\n  zoomOutImage();\n};\n\n/**\n * Our document ready function.\n * This site uses plain JavaScript on public pages\n * and Vue.js on admin pages so no jQuery...\n */\n(function () {\n  if (document.readyState === \"complete\" ||\n    (document.readyState !== \"loading\" && !document.documentElement.doScroll)) {\n    callback();\n  } else {\n    document.addEventListener(\"DOMContentLoaded\", callback);\n  }\n})();\n","/**\n * Checks if a tracking ID exists in window.myapp namespace\n * and invokes Google analytics.\n */\n(function (){\n\n  if (window.myapp.trackingId !== undefined && window.myapp.trackingId !== '') {\n    (function (i, s, o, g, r, a, m) {\n      i['GoogleAnalyticsObject'] = r;\n      i[r] = i[r] || function () {\n          (i[r].q = i[r].q || []).push(arguments)\n        }, i[r].l = 1 * new Date();\n      a = s.createElement(o),\n        m = s.getElementsByTagName(o)[0];\n      a.async = 1;\n      a.src = g;\n      m.parentNode.insertBefore(a, m)\n    })(window, document, 'script', 'https://www.google-analytics.com/analytics.js', 'ga');\n\n    ga('create', window.myapp.trackingId, 'auto');\n    ga('send', 'pageview');\n  }\n\n})();\n"]}